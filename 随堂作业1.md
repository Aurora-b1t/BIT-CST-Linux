# 实验一：Shell 高频命令行

## 1. `man` 命令
`man` 是 `manual`（说明书）的缩写，用于查看命令或主题的手册页。其基本语法为：

```bash
man [选项] [节号] 命令/主题
```

例如，查询 `man` 命令的手册页，因为 `man` 命令属于用户命令（位于节号1），因此输入以下命令：

```bash
man 1 man
```

如果直接输入 `man man`，显示的内容与 `man 1 man` 是一样的，因为 `man` 命令只存在于节号1中。而对于 `printf` 命令，它既属于用户命令（节号1），也是库函数（节号3）中的一种，因此查询 `printf` 的手册页时需要明确指定节号：

```bash
man 1 printf   # 查询用户命令
man 3 printf   # 查询库函数
```

如果不指定节号，系统会默认查询并显示第一个匹配的结果。

## 2. `help` 命令
`help` 命令用于显示 shell 内建命令的帮助信息。直接输入 `help` 可以列出所有可用的内建命令；输入 `help [命令]` 可以显示特定命令的帮助信息。

## 3. `history` 命令
`history` 命令用于显示当前 shell 会话中执行过的命令历史记录。你可以使用上下箭头键来浏览这些记录。

## 4. `Tab` 键自动补全
按一次 `Tab` 键可以自动补全命令。例如，输入 `hel` 后按 `Tab`，会自动补全为 `help`。对于较长的命令，这个功能可以节省大量时间。但如果有多个可能的补全选项，如输入 `user` 后按 `Tab` 无法补全，此时双击 `Tab` 键，会显示所有可能的选项，如 `useradd`、`userdel`、`usermod`、`users` 等。

## 5. 上下箭头键
上下箭头键用于浏览命令历史记录。上箭头键 (`↑`) 用于查看之前输入的命令，每按一次，会向上浏览一条记录；下箭头键 (`↓`) 用于向下浏览更近期的命令。

## 6. `sleep` 命令
`sleep` 命令用于暂停执行一段时间，语法为：

```bash
sleep [时间][单位]
```

例如，`sleep 10` 会暂停10秒。单位可以是秒 (`s`)、分钟 (`m`)、小时 (`h`)、天 (`d`) 等。如果不加单位，默认为秒。

在命令后加 `&` 符号可以使其在后台执行，例如：

```bash
sleep 120 &
```

这样命令会在后台倒计时120秒，而你可以继续在终端中执行其他命令。你也可以使用 `fg` 命令将后台任务移到前台。

## 7. `sudo` 命令
`sudo [command]` 允许你以 `root` 权限执行指定的命令。使用 `sudo` 时需要输入当前用户的密码。

## 8. `su` 命令
`su` 表示 substitute user 或 switch user，用于切换用户身份。如果在 `su` 后面加上用户名，则切换到对应用户；如果不加用户名，默认切换到 `root` 用户。

## 9. `whoami` 命令
`whoami` 命令用于显示当前用户的用户名，输入该命令后，系统会返回当前用户的用户名。

## 10. `id` 命令
`id` 命令用于显示当前用户的身份信息，包括用户ID（UID）、组ID（GID）及所属的所有组。如果在 `id` 后加上用户名，则会显示对应用户的身份信息。

## 11. `exit` 命令
`exit` 命令用于退出当前的 shell 会话或用户。当你使用 `su` 命令切换到另一个用户后，输入 `exit` 会退出当前用户，返回到之前的用户。如果再次输入 `exit`，则会退出 shell 会话，关闭终端窗口或断开远程连接。



# 实验二：虚拟机Linux实验环境搭建

## 1. 增加学员账号及相关配置
成功添加了一个用户，主组与用户名相同，同时加入了 `sudo` 副组。启动虚拟机时，有两个用户可供选择。

## 2. 调试网络，采用SSH方式登录
网络工具包安装成功，输入 `ifconfig` 命令后，展示了当前虚拟机加入的所有网络。在 **NAT 模式** 下，虚拟机可以访问主机和外部网络；在 **Host-Only 模式** 下，只能访问主机，无法访问外部网络。两种模式下都可以 `ping` 通主机。

## 3. 熟悉 `gcc` 工具

### （1）编译环境安装与初步使用
编译环境安装完毕，通过共享文件夹将任务文件添加到虚拟机内，并且使用以下命令编译：

```bash
$ gcc gcc-1-hello.c
$ cc gcc-1-hello.c
```

两者都成功编译，生成了 `a.out`，运行后输出 "hello, world"。在我的虚拟机中，这两种方式并无差别。我查询后得知，`gcc` 和 `cc` 可能是两种不同的编译器。于是我用 `gcc --version` 和 `cc --version` 查询它们的版本信息，发现两者版本信息相同。在我的系统中，`cc` 和 `gcc` 实际上是同一个编译器——GNU Compiler Collection (GCC) 版本 11.4.0。尽管它们的路径不同，但它们指向的是相同的编译器，效果自然相同。

### （2）帮助与版本信息
```bash
$ gcc --help
```
`gcc --help` 显示基本的帮助信息。

```bash
$ gcc --help=common
```
`gcc --help=common` 提供了更多信息，用于查找常用的或者特定类型的编译选项。

```bash
$ gcc --version
```
`gcc --version` 返回版本信息，上面提到过了。

### （3）不同编译选项的使用

```bash
$ gcc gcc-1-hello.c -o hello
```
执行了完整的编译过程，包括预处理、编译、汇编和链接，生成可执行文件 `hello`。

```bash
$ gcc gcc-1-hello.c -E
```
仅执行预处理，不编译、不生成目标文件或可执行文件。输出的是经过预处理的C代码。

```bash
$ gcc gcc-1-hello.c -S
```
执行了预处理和编译步骤，生成汇编代码文件 `gcc-1-hello.s`，但不进行链接，不生成可执行文件。

```bash
$ gcc gcc-1-hello.c -c
```
执行了预处理、编译和汇编，生成目标文件 `gcc-1-hello.o`，但不进行链接，不生成可执行文件。

### （4）总结 `gcc` 和 `make` 的区别
- **`gcc`** 是一个编译器，专门用于将C、C++等语言的源代码编译为目标文件或可执行文件。
- **`make`** 是一个构建管理工具，自动化和简化编译过程，适用于处理多个源文件和依赖关系复杂的项目。

---